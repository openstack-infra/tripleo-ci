---
# zuul.d/build-containers.yaml
# Zuul layout for TripleO Build Containers jobs.

- project-template:
    name: tripleo-build-containers-jobs
    check:
      jobs:
        - tripleo-build-containers-centos-7
    gate:
      queue: tripleo
      jobs:
        - tripleo-build-containers-centos-7


- job:
    name: tripleo-build-containers-centos-7
    parent: tripleo-build-containers-base
    nodeset: single-centos-7-node
    voting: true
    irrelevant-files:
      - ^.*\.rst$
      - ^releasenotes/.*$
    files:
      # tripleo-ci
      - ^playbooks/tripleo-buildcontainers/.*$
      - zuul.d/base.yaml
      - zuul.d/nodesets.yaml
      - roles/tripleo-repos/.*
      # tripleo-common
      - ^container-images/.*$
      - ^tripleo_common/image/.*$
      # python-tripleoclient
      - ^tripleoclient/v1/container.*$
