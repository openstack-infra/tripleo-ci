---
# zuul.d/build-image.yaml
# Zuul layout for TripleO Build Image jobs.

- project-template:
    name: tripleo-buildimage-jobs
    check:
      jobs:
        - tripleo-buildimage-overcloud-full-centos-7
    gate:
      jobs:
        - tripleo-buildimage-overcloud-full-centos-7
    experimental:
      jobs:
        - tripleo-buildimage-ironic-python-agent-centos-7
        - tripleo-buildimage-overcloud-hardened-full-centos-7

- job:
    name: tripleo-buildimage-ironic-python-agent-centos-7
    parent: tripleo-build-images-base
    vars:
      tripleo_image_type: ironic-python-agent
      tripleo_image_os: centos7
    voting: false
    irrelevant-files:
      - ^.*\.rst$
      - ^releasenotes/.*$

- job:
    name: tripleo-buildimage-overcloud-full-centos-7
    parent: tripleo-build-images-base
    vars:
      tripleo_image_type: overcloud-full
      tripleo_image_os: centos7
    irrelevant-files:
      - ^.*\.rst$
      - ^releasenotes/.*$

- job:
    name: tripleo-buildimage-overcloud-hardened-full-centos-7
    parent: tripleo-build-images-base
    vars:
      tripleo_image_type: overcloud-hardened-full
      tripleo_image_os: centos7
    voting: false
    irrelevant-files:
      - ^.*\.rst$
      - ^releasenotes/.*$
